# Требования для запуска
- Docker
- Make


# Инструкция по установке и запуску
Склонировать репозиторий:
`git clone https://github.com/Guulik/proxy-thumbnail-getter.git`

Запустить сервер в докере
`make start-server`

Скомпилировать утилиту командной строки
`make build-cli`

можно пользоваться!
Для получения справки по cli (базовая команда):

`./thumbnail-cli`

# Список доступных команд:

`./thumbnail-cli get [URLs...] --async(optional)` - скачать превью с перечисленных видео

Флаг --async позволяет асинхронно скачивать большое количество файлов.

`./thumbnail-cli output [outputDirectory]` - поменять директорию для сохранения превью

По умолчанию папка для сохранения превью: ./downloads Если в outputDirectory написать default, будет установлена папка по умолчанию. Также директорию можно изменить в конфиге `./config/cli/local.yaml`

# Важное замечание:
Если первым в списке видео поставить ссылку на Youtube, сервер выдаст ошибку и прекратит отдавать превью. Если надо будет пофикшу

Флаг `--async` позволяет избегать таких блокирующих ошибок. Скачаются все превью, какие возможно.

# Пример использования
Команда ниже асинхронно скачает 2 видео.

`./thumbnail-cli get --async https://rutube.ru/video/f2c76f1ba065b955181c546df546071b/ https://rutube.ru/video/854ce20ade387f87041ca1e29e002448/`

Команда ниже скачает сначала первое видео в списке, потом второе.

`./thumbnail-cli get https://rutube.ru/video/f2c76f1ba065b955181c546df546071b/ https://rutube.ru/video/854ce20ade387f87041ca1e29e002448/`
